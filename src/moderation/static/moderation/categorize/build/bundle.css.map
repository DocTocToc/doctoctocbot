{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "UserName.svelte"
  ],
  "sourcesContent": [
    "<script>\n    import UserName from \"./UserName.svelte\"\n</script>\n\n<main>\n\t<h2>SocialUser</h2>\n    <UserName />\n</main>\n\n<style>\n\tmain {\n\t\ttext-align: left;\n\t\tpadding: 1em;\n\t\tmax-width: 240px;\n\t\tmargin: 0 auto;\n\t}\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n</style>",
    "<script>\n\timport { onMount } from \"svelte\";\n\timport CreateSocialUser from \"./CreateSocialUser.svelte\";\n\timport HealthCareProvider from \"./HealthCareProvider.svelte\";\n\timport dayjs from 'dayjs';\n\timport customParseFormat from 'dayjs/plugin/customParseFormat';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\timport 'dayjs/locale/fr'\n\tdayjs.extend(customParseFormat)\n\tdayjs.extend(relativeTime)\n\tlet input = \"\";\n\tlet screenName = \"\";\n\tlet apiPath = \"/moderation/api/socialuser/\";\n\tlet screenNameValue = \"\";\n\tlet socialusers = null;\n\tlet humanId = 0;\n\n\t$: {\n\t\tlet param = new URL(document.location).searchParams.get(\"screen_name\");\n\t\tif (param) {\n\t\t\tsocialusers = fetchApi(param);\n\t\t\tscreenName = param;\n\t\t\tinput = param;\n\t\t}\n\t}\n\n\tfunction getScreenNameValue() {\n\t\treturn new URL(document.location).searchParams.get(\"screen_name\");\n\t}\n\n\tfunction toHRDate(isoDateTimeString) {\n\t\tconst date = new Date(isoDateTimeString);\n\t\treturn date.toDateString();\n\t}\n\n\tfunction durationFromNow(twitterDateTimeString) {\n\n\t\t//Twitter date time format: \"Thu Jun 05 19:56:42 +0000 2014\"\n\t\tlet dateTime = dayjs(twitterDateTimeString, \"[ddd] MMM DD HH:mm:ss [zz] YYYY\");\n\t\treturn dateTime.fromNow()\n\t}\n\n\tasync function fetchApi(sn) {\n\t\tlet url = apiPath + \"?search=\" + sn;\n\t\tawait fetch(url)\n\t\t\t.then((r) => r.json())\n\t\t\t.then((data) => {\n\t\t\t\tsocialusers = data;\n\t\t\t});\n\t\treturn socialusers;\n\t}\n\n\tasync function onClickFetchApi(input) {\n\t\tif (input.startsWith(\"@\")) {\n\t\t\tscreenName = input.slice(1);\n\t\t} else {\n\t\t\tscreenName = input;\n\t\t}\n\t\tsocialusers = await fetchApi(screenName);\n\t}\n\n\t/*onMount(async () => {\n\t\tlet screenName = getScreenNameValue();\n\t\t\tif ( screenName ) {\n\t\t\t\tsocialusers = await fetchApi();\n\t\t\t}\n\t\t}\n    );*/\n\tfunction getHumanId(socialuser) {\n\t\ttry {\n\t\t    return socialuser.human[0].id\n\t\t} catch(err) {\n            return null\n\t\t}\n\n\t}\n</script>\n\n<form action=\"\" method=\"get\" on:submit|preventDefault={onClickFetchApi(input)}>\n\t<label for=\"screen_name\">Enter Twitter screen_name</label>\n\t<input type=\"text\" name=\"screen_name\" id=\"screen_name\" bind:value={input} />\n\t<button type=\"submit\" disabled={!input} on:click={onClickFetchApi(input)}\n\t\t>Fetch!</button\n\t>\n</form>\n\n{#key socialusers}\n\t{#if socialusers && socialusers.length == 0 && screenName}\n\t\t<p>Utilisateur inconnu dans notre base de donnÃ©es.</p>\n\t\t<CreateSocialUser bind:screenName />\n\t{:else if socialusers}\n\t\t{#each socialusers as socialuser (socialuser.id)}\n\t\t\t<div class=\"parent\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={socialuser.profile.biggeravatar}\n\t\t\t\t\t\t\talt=\"user avatar\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>SocialUser id: {socialuser.id}</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://twitter.com/intent/user?user_id={socialuser\n\t\t\t\t\t\t\t\t.profile.json.id_str}\"\n\t\t\t\t\t\t\ttarget=\"_blank\">ðŸ”— Twitter profile</a\n\t\t\t\t\t\t>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>Twitter user id: {socialuser.user_id}</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tTwitter screen name: {socialuser.profile.json\n\t\t\t\t\t\t\t.screen_name}\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>Twitter name: {socialuser.profile.json.name}</li>\n\t\t\t\t\t<li>Account created {durationFromNow(socialuser.profile.json.created_at)}</li>\n\t\t\t\t\t<li>{socialuser.profile.json.description}</li>\n\t\t\t\t\t<li>location: {socialuser.profile.json.location}</li>\n\t\t\t\t\t<li>statuses count: {socialuser.profile.json.statuses_count}</li>\n\t\t\t\t\t<li>favourites count: {socialuser.profile.json.favourites_count}</li>\t\t\t\t\t\n\t\t\t\t\t<li>\n\t\t\t\t\t\tcategory\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{#each socialuser.categoryrelationships as catRel}<li\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div style=\"white-space: nowrap\">\n\t\t\t\t\t\t\t\t\t\t{catRel.category.label}\n\t\t\t\t\t\t\t\t\t\t{#if catRel.moderator}\n\t\t\t\t\t\t\t\t\t\t\t{#if catRel.moderator.id == socialuser.id}<mark\n\t\t\t\t\t\t\t\t\t\t\t\t\t>*</mark\n\t\t\t\t\t\t\t\t\t\t\t\t>{/if} | {catRel.moderator\n\t\t\t\t\t\t\t\t\t\t\t\t.profile.json.screen_name}\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t| Created {toHRDate(catRel.created)} | Updated\n\t\t\t\t\t\t\t\t\t\t{toHRDate(catRel.updated)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>{/each}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"/admin/moderation/socialuser/{socialuser.id}/change/\"\n\t\t\t\t\t\t\ttarget=\"_blank\">ðŸ”— SocialUser admin</a\n\t\t\t\t\t\t>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tHealth Care Provider <HealthCareProvider\n\t\t\t\t\t\t\thumanId={getHumanId(socialuser)}\n\t\t\t\t\t\t\tentityId={socialuser.entity?.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t{/each}\n\t{/if}\n{/key}\n\n<style>\n\tul {\n\t\ttext-align: left;\n\t}\n</style>\n"
  ],
  "names": [],
  "mappings": "AAUC,IAAI,cAAC,CAAC,AACL,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,GAAG,CACZ,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,CAAC,CAAC,IAAI,AACf,CAAC,AACD,MAAM,AAAC,YAAY,KAAK,CAAC,AAAC,CAAC,AAC1B,IAAI,cAAC,CAAC,AACL,SAAS,CAAE,IAAI,AAChB,CAAC,AACF,CAAC;ACyID,EAAE,cAAC,CAAC,AACH,UAAU,CAAE,IAAI,AACjB,CAAC"
}